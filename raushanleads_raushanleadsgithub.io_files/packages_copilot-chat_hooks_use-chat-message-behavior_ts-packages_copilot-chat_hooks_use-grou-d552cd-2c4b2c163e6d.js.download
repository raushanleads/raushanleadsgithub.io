"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["packages_copilot-chat_hooks_use-chat-message-behavior_ts-packages_copilot-chat_hooks_use-grou-d552cd"],{11633:(e,t,n)=>{n.d(t,{WA:()=>ex});var i,r,s,o,a,l,c,u,d,m,h,g,p,f=n(74848),b=n(21728),y=n(41738),x=n(38621),_=n(81960),N=n(87448);n(51213),n(35247);var C=n(79064),T=n(57352),v=n(69726),I=n(21373),k=n(5524),$=n(69497),w=n(10436),S=n(34164),j=n(96540),M=n(25641),A=n(2635);let L={functionCallButton:"FunctionCallButton-module__functionCallButton--_WmIK"},R={functionReferenceListContainer:"FunctionLoadingUtils-module__functionReferenceListContainer--_vK99",functionLoading:"FunctionLoadingUtils-module__functionLoading--APVUB",spinner:"FunctionLoadingUtils-module__spinner--LI0rU",functionReferenceButton:"FunctionLoadingUtils-module__functionReferenceButton--AiuYU",functionReferenceButtonContents:"FunctionLoadingUtils-module__functionReferenceButtonContents--fRReb",functionReferenceTitle:"FunctionLoadingUtils-module__functionReferenceTitle--pFYb2",functionReferenceListFooter:"FunctionLoadingUtils-module__functionReferenceListFooter--Nvw6l",errorContainer:"FunctionLoadingUtils-module__errorContainer--uwToA",errorHeading:"FunctionLoadingUtils-module__errorHeading--AXPQe",errorMessage:"FunctionLoadingUtils-module__errorMessage--GB_0R",toolDescriptionText:"FunctionLoadingUtils-module__toolDescriptionText--wLOuU",toolNameHighlight:"FunctionLoadingUtils-module__toolNameHighlight--Jpfyk",functionTitleContainer:"FunctionLoadingUtils-module__functionTitleContainer--jes_G"};function B(e){return(e.references?.[0]?.results??[]).map(F)}function F(e){return{title:e.title,url:e.url,description:e.excerpt,leadingIcon:x.GlobeIcon}}function D(e){let t=e.references?.[0];return(t?.results??[]).map(e=>({title:e.title,url:e.url,leadingIcon:"bing_search"===e.reference_type?y._:x.GlobeIcon}))}function U(e){return(e.references??[]).map(P)}function P(e){return"file-v2"===e.type?{description:`${e.repoName}/${e.path}`,leadingIcon:x.FileIcon,reference:e,title:(0,M.Xo)(e),url:e.url}:void 0}let G=(e,t)=>t?`${e} on ref ${t}`:e;function E(e){return(e.references??[]).map(q)}function q(e){return"alert.api"===e.type?{description:"Alert",leadingIcon:H,title:"Alert"}:void 0}function H(){return(0,f.jsx)(x.ShieldIcon,{})}function O(e){return(e.references??[]).map(z)}function z(e){return"discussion"===e.type?{title:e.title??"Discussion",description:`Using discussion #${e.number} for ${e.repository.owner}/${e.repository.name}`,url:e.url,leadingIcon:x.CommentDiscussionIcon}:void 0}function V(e){let t,n,i=(0,b.c)(3),{children:r}=e;return i[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,f.jsx)("span",{className:R.spinner,children:(0,f.jsx)(v.A,{size:"small"})}),i[0]=t):t=i[0],i[1]!==r?(n=(0,f.jsxs)("div",{className:R.functionLoading,children:[t,(0,f.jsx)("span",{children:r})]}),i[1]=r,i[2]=n):n=i[2],n}function W(e){return(e.references??[]).filter(K).map(J)}function J(e){return{description:`${e.id} \xb7 ${e.repoOwner}/${e.repoName}`,leadingIcon:x.PlayIcon,title:"Job"}}function K(e){return"job"===e.type}function Q(e){return e.jobId?`job ${e.jobId}`:e.runId?`workflow run ${e.runId}`:e.pullRequestNumber?`pull request ${e.pullRequestNumber}`:e.workflowPath?`workflow ${e.workflowPath}`:"unknown job"}function Y(e){let t,n,i=(0,b.c)(27),{additionalFooterContent:r,chatManager:s,errorButtonText:o,errorTitle:a,functionCall:l,inProgressMessage:c,noResultsMessage:u,resultsMapper:d,successButtonText:m,toolLink:h,toolName:g,useSelectReference:p}=e,[y,_]=(0,j.useState)(!1),N=(0,j.useId)();if(i[0]!==r||i[1]!==s||i[2]!==N||i[3]!==o||i[4]!==a||i[5]!==y||i[6]!==l||i[7]!==c||i[8]!==u||i[9]!==d||i[10]!==m||i[11]!==h||i[12]!==g||i[13]!==p){n=Symbol.for("react.early_return_sentinel");e:{let e,b,C,T,v=d(l),{status:j,errorMessage:M}=l;if(l.references?.length===1){let e=l.references[0];if(e)switch(e.type){case"text":j="error",M=e.text;break;case"unsupported":j="unsupported",M=e.text}}if("started"===j){let e;i[16]!==c?(e=(0,f.jsx)(V,{children:c}),i[16]=c,i[17]=e):e=i[17],n=e;break e}i[18]===Symbol.for("react.memo_cache_sentinel")?(e=(0,S.$)(R.functionReferenceButton,L.functionCallButton),i[18]=e):e=i[18];let A=y?x.ChevronUpIcon:x.ChevronDownIcon;i[19]===Symbol.for("react.memo_cache_sentinel")?(b=()=>_(Z),i[19]=b):b=i[19];let B="error"===j?o:"unsupported"===j?u:m;i[20]!==B?(C=(0,f.jsx)("span",{className:R.functionReferenceButtonContents,children:B}),i[20]=B,i[21]=C):C=i[21],i[22]!==N||i[23]!==y||i[24]!==A||i[25]!==C?(T=(0,f.jsx)(I.Q,{"aria-expanded":y,"aria-controls":N,className:e,leadingVisual:A,onClick:b,variant:"invisible",children:C}),i[22]=N,i[23]=y,i[24]=A,i[25]=C,i[26]=T):T=i[26],t=(0,f.jsxs)(f.Fragment,{children:[T,y&&(0,f.jsxs)("div",{id:N,className:R.functionReferenceListContainer,children:[(0,f.jsx)(k.l,{children:"error"===j?(0,f.jsxs)(k.l.Item,{children:[a,(0,f.jsx)(k.l.Description,{variant:"block",children:M})]}):"unsupported"===j?(0,f.jsxs)(k.l.Item,{children:[M,(0,f.jsx)(k.l.Description,{truncate:!0,children:""})]}):0===v.length?(0,f.jsxs)(k.l.Item,{children:[u,(0,f.jsx)(k.l.Description,{truncate:!0,children:"Try modifying your query by reframing your question."})]}):v.map((e,t)=>e&&(0,f.jsxs)(k.l.LinkItem,{className:"width-fit",href:e.url,onClick:t=>{p&&e.reference&&(s.selectReference(e.reference),t.preventDefault())},target:"_blank",rel:"noopener",children:[e.leadingIcon&&(0,f.jsx)(k.l.LeadingVisual,{children:(0,f.jsx)(w.m4,{icon:e.leadingIcon,sx:{...e.leadingIconColor&&{color:e.leadingIconColor}}})}),(0,f.jsx)($.A,{className:R.functionReferenceTitle,title:e.title,children:e.title}),(0,f.jsx)(k.l.Description,{variant:"block",children:e.description})]},t))}),(0,f.jsxs)("span",{className:R.functionReferenceListFooter,children:["Copilot used the"," ",(0,f.jsx)("a",{href:h,target:"_blank",rel:"noopener noreferrer",children:g})," ","tool",r&&(0,f.jsxs)(f.Fragment,{children:[". ",r]})]})]})]})}i[0]=r,i[1]=s,i[2]=N,i[3]=o,i[4]=a,i[5]=y,i[6]=l,i[7]=c,i[8]=u,i[9]=d,i[10]=m,i[11]=h,i[12]=g,i[13]=p,i[14]=t,i[15]=n}else t=i[14],n=i[15];return n!==Symbol.for("react.early_return_sentinel")?n:t}function Z(e){return!e}function X(e){return"text"!==e.type}function ee(e){return e.charAt(0).toUpperCase()+e.slice(1)}function et(e){let t=e.references?.[0];return[{title:t?.title||"",url:t?.url||"",description:""}]}let en="https://docs.github.com/en/support/contacting-github-support/using-copilot-in-github-support";function ei(e){return(e.references?.[0]?.results??[]).map(er)}function er(e){return{title:e.title,url:e.url,description:e.url}}function es(e){return(e.references??[]).map(e=>"file"===e.type||"snippet"===e.type?{description:(0,M.Z8)(e),leadingIcon:x.CodeIcon,reference:e,title:(0,M.z$)(e),url:e.url}:void 0)}try{(i=function(e){let t,n,i=(0,b.c)(8),{chatManager:r,functionCall:s,skillArgs:o}=e,a=o.query;i[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,f.jsx)(T.A,{href:"https://privacy.microsoft.com/privacystatement",rel:"nofollow",target:"_blank",children:"Microsoft Privacy Statement"}),i[0]=t):t=i[0];let l=`An error occurred when searching for \u{201C}${a}\u{201D}`,c=`Searching the web for \u{201C}${a}\u{201D}`,u=`No web search results for \u{201C}${a}\u{201D} were found`,d=`Using web search results for \u{201C}${a}\u{201D}`;return i[1]!==r||i[2]!==s||i[3]!==l||i[4]!==c||i[5]!==u||i[6]!==d?(n=(0,f.jsx)(Y,{additionalFooterContent:t,chatManager:r,errorButtonText:l,errorTitle:"An error occurred when searching the web",toolLink:"https://bing.com",toolName:"Bing search",functionCall:s,inProgressMessage:c,noResultsMessage:u,resultsMapper:B,successButtonText:d,useSelectReference:!1}),i[1]=r,i[2]=s,i[3]=l,i[4]=c,i[5]=u,i[6]=d,i[7]=n):n=i[7],n}).displayName||(i.displayName="BingFunctionButton")}catch{}try{(r=function(e){let t,n,i=(0,b.c)(8),{chatManager:r,functionCall:s,skillArgs:o}=e,a=o.query;i[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,f.jsx)(T.A,{href:"https://privacy.microsoft.com/privacystatement",rel:"nofollow",target:"_blank",children:"Microsoft Privacy Statement"}),i[0]=t):t=i[0];let l=`An error occurred when searching for \u{201C}${a}\u{201D}`,c=`Searching the web for \u{201C}${a}\u{201D}`,u=`No web search results for \u{201C}${a}\u{201D} were found`,d=`Using web search results for \u{201C}${a}\u{201D}`;return i[1]!==r||i[2]!==s||i[3]!==l||i[4]!==c||i[5]!==u||i[6]!==d?(n=(0,f.jsx)(Y,{additionalFooterContent:t,chatManager:r,errorButtonText:l,errorTitle:"An error occurred when searching the web",toolLink:"https://gh.io/azure-ai-agent-with-bing-grounding",toolName:"Bing Search",functionCall:s,inProgressMessage:c,noResultsMessage:u,resultsMapper:D,successButtonText:d,useSelectReference:!1}),i[1]=r,i[2]=s,i[3]=l,i[4]=c,i[5]=u,i[6]=d,i[7]=n):n=i[7],n}).displayName||(r.displayName="BingGroundingFunctionButton")}catch{}try{(s=function(e){let t,n,i=(0,b.c)(13),{chatManager:r,functionCall:s,skillArgs:o,useSelectReference:a}=e,l=o.query,c="scopingQuery"in o?o.scopingQuery:o.repoOwner&&o.repoName?`repo:${o.repoOwner}/${o.repoName}`:void 0;if(c){var u;let e;i[0]!==c?(e=(u=c).startsWith("repo:")?u.substring(5):u,i[0]=c,i[1]=e):e=i[1],c=e}let d="semantic-code-search"===o.kind?"semantic":"lexical",m=`An error occurred when searching for \u{201C}${l}\u{201D}`;i[2]!==d?(t=d.charAt(0).toUpperCase(),i[2]=d,i[3]=t):t=i[3];let h=`${t+d.slice(1)} search`,g=`Searching for \u{201C}${l}\u{201D}${c&&` in ${c}`}`,p=`No results were found when ${d} searching for \u{201C}${l}\u{201D}${c&&` in ${c}`}`,y=`Using ${d} search results for \u{201C}${l}\u{201D}${c&&` in ${c}`}`;return i[4]!==r||i[5]!==s||i[6]!==m||i[7]!==h||i[8]!==g||i[9]!==p||i[10]!==y||i[11]!==a?(n=(0,f.jsx)(Y,{chatManager:r,errorButtonText:m,errorTitle:"An error occurred when searching code",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:h,functionCall:s,inProgressMessage:g,noResultsMessage:p,resultsMapper:es,successButtonText:y,useSelectReference:a}),i[4]=r,i[5]=s,i[6]=m,i[7]=h,i[8]=g,i[9]=p,i[10]=y,i[11]=a,i[12]=n):n=i[12],n}).displayName||(s.displayName="CodeSearchButton")}catch{}try{(o=function(e){let t,n,i=(0,b.c)(13),{chatManager:r,functionCall:s,skillArgs:o,useSelectReference:a}=e,l=o.query,c=o.kbID,{knowledgeBases:u}=(0,A.Pk)();if(i[0]!==c||i[1]!==u){let e;i[3]!==c?(e=e=>e.id===c,i[3]=c,i[4]=e):e=i[4],t=u.find(e),i[0]=c,i[1]=u,i[2]=t}else t=i[2];let d=t,m=d?.name??"the knowledge base",h=`An error occurred when searching for \u{201C}${l}\u{201D} in ${m}`,g=`Searching the ${m} knowledge base for \u{201C}${l}\u{201D}`,p=`No results were found when searching the ${m} knowledge base for \u{201C}${l}\u{201D}`,y=`Using search results from the ${m} knowledge base for \u{201C}${l}\u{201D}`;return i[5]!==r||i[6]!==s||i[7]!==h||i[8]!==g||i[9]!==p||i[10]!==y||i[11]!==a?(n=(0,f.jsx)(Y,{chatManager:r,errorButtonText:h,errorTitle:"An error occurred when searching the knowledge base",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:"Knowledge base search",functionCall:s,inProgressMessage:g,noResultsMessage:p,resultsMapper:es,successButtonText:y,useSelectReference:a}),i[5]=r,i[6]=s,i[7]=h,i[8]=g,i[9]=p,i[10]=y,i[11]=a,i[12]=n):n=i[12],n}).displayName||(o.displayName="KnowledgeBaseSearchButton")}catch{}try{(a=function(e){let t,n,i,r,s,o=(0,b.c)(20),{chatManager:a,functionCall:l,skillArgs:c,useSelectReference:u}=e,{path:d,repo:m,ref:h}=c,g=`An error occurred when finding \u{201C}${d}\u{201D} in ${m}`;o[0]!==h||o[1]!==g?(t=G(g,h),o[0]=h,o[1]=g,o[2]=t):t=o[2];let p=`File results for \u{201C}${d}\u{201D} in ${m}`;o[3]!==h||o[4]!==p?(n=G(p,h),o[3]=h,o[4]=p,o[5]=n):n=o[5];let y=`No files matching \u{201C}${d}\u{201D} in ${m} were found`;o[6]!==h||o[7]!==y?(i=G(y,h),o[6]=h,o[7]=y,o[8]=i):i=o[8];let x=`Using results for \u{201C}${d}\u{201D} in ${m}`;return o[9]!==h||o[10]!==x?(r=G(x,h),o[9]=h,o[10]=x,o[11]=r):r=o[11],o[12]!==a||o[13]!==l||o[14]!==t||o[15]!==n||o[16]!==i||o[17]!==r||o[18]!==u?(s=(0,f.jsx)(Y,{chatManager:a,errorButtonText:t,errorTitle:"An error occurred when finding a file",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:"Get file",functionCall:l,inProgressMessage:n,noResultsMessage:i,resultsMapper:U,successButtonText:r,useSelectReference:u}),o[12]=a,o[13]=l,o[14]=t,o[15]=n,o[16]=i,o[17]=r,o[18]=u,o[19]=s):s=o[19],s}).displayName||(a.displayName="GetFileButton")}catch{}try{(l=function(e){let t,n,i,r,s,o,a=(0,b.c)(23),{chatManager:l,functionCall:c,skillArgs:u,useSelectReference:d}=e,{path:m,repo:h,ref:g}=u,p=`An error occurred when finding file changes for \u{201C}${m}\u{201D} in ${h}`;a[0]!==g||a[1]!==p?(t=G(p,g),a[0]=g,a[1]=p,a[2]=t):t=a[2];let y=`File changes results for \u{201C}${m} in ${h}`;a[3]!==g||a[4]!==y?(n=G(y,g),a[3]=g,a[4]=y,a[5]=n):n=a[5];let _=`No files changes were found for \u{201C}${m}\u{201D} in ${h}`;a[6]!==g||a[7]!==_?(i=G(_,g),a[6]=g,a[7]=_,a[8]=i):i=a[8],a[9]!==m?(r=e=>(e.references??[]).map(e=>"file-changes"===e.type?{description:`${e.repository.name}/${m}`,leadingIcon:x.FileIcon,reference:e,title:(0,M.Xo)(e),url:e.url}:void 0),a[9]=m,a[10]=r):r=a[10];let N=`Using results for \u{201C}${m}\u{201D} in ${h}`;return a[11]!==g||a[12]!==N?(s=G(N,g),a[11]=g,a[12]=N,a[13]=s):s=a[13],a[14]!==l||a[15]!==c||a[16]!==t||a[17]!==n||a[18]!==i||a[19]!==r||a[20]!==s||a[21]!==d?(o=(0,f.jsx)(Y,{chatManager:l,errorButtonText:t,errorTitle:"An error occurred when finding the file changes",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:"Get file changes",functionCall:c,inProgressMessage:n,noResultsMessage:i,resultsMapper:r,successButtonText:s,useSelectReference:d}),a[14]=l,a[15]=c,a[16]=t,a[17]=n,a[18]=i,a[19]=r,a[20]=s,a[21]=d,a[22]=o):o=a[22],o}).displayName||(l.displayName="GetFileChangesButton")}catch{}try{(c=function(e){let t,n=(0,b.c)(5),{chatManager:i,functionCall:r,skillArgs:s,useSelectReference:o}=e,a=`An error occurred when fetching alert information for ${s.url}`;return n[0]!==i||n[1]!==r||n[2]!==a||n[3]!==o?(t=(0,f.jsx)(Y,{chatManager:i,errorButtonText:a,errorTitle:"An error occurred when fetching alert information",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:"Get alert information",functionCall:r,inProgressMessage:"Fetching alert information",noResultsMessage:"Unable to fetch alert information",resultsMapper:E,successButtonText:"Using alert information",useSelectReference:o}),n[0]=i,n[1]=r,n[2]=a,n[3]=o,n[4]=t):t=n[4],t}).displayName||(c.displayName="GetAlertButton")}catch{}try{(u=function(e){let t,n=(0,b.c)(7),{chatManager:i,functionCall:r,skillArgs:s,useSelectReference:o}=e,a=`Fetching discussion ${s.discussionNumber}`,l=`Unable to fetch discussion ${s.discussionNumber}`,c=`Using discussion #${s.discussionNumber}`;return n[0]!==i||n[1]!==r||n[2]!==a||n[3]!==l||n[4]!==c||n[5]!==o?(t=(0,f.jsx)(Y,{chatManager:i,errorButtonText:"An error occurred when fetching discussion",errorTitle:"An error occurred when fetching discussion",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:"Get discussion",functionCall:r,inProgressMessage:a,noResultsMessage:l,resultsMapper:O,successButtonText:c,useSelectReference:o}),n[0]=i,n[1]=r,n[2]=a,n[3]=l,n[4]=c,n[5]=o,n[6]=t):t=n[6],t}).displayName||(u.displayName="GetDiscussionButton")}catch{}try{V.displayName||(V.displayName="FunctionLoading")}catch{}try{(d=function(e){let t=(0,b.c)(1),{functionCall:n}=e,{status:i}=n;if("started"===i){let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,f.jsx)(V,{children:"Coming up with a plan"}),t[0]=e):e=t[0],e}}).displayName||(d.displayName="PlanButton")}catch{}try{(m=function(e){let t,n,i=(0,b.c)(10),{chatManager:r,functionCall:s,skillArgs:o,useSelectReference:a}=e;i[0]!==o?(t=Q(o),i[0]=o,i[1]=t):t=i[1];let l=t,c=`An error occurred when fetching logs for ${l} in ${o.repo}`,u=`Fetching logs for ${l} in ${o.repo}`,d=`Unable to fetch logs for ${l} in ${o.repo}`,m=`Using logs for ${l} in ${o.repo}`;return i[2]!==r||i[3]!==s||i[4]!==c||i[5]!==u||i[6]!==d||i[7]!==m||i[8]!==a?(n=(0,f.jsx)(Y,{chatManager:r,errorButtonText:c,errorTitle:"An error occurred when fetching a commit",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:"Get job logs",functionCall:s,inProgressMessage:u,noResultsMessage:d,resultsMapper:W,successButtonText:m,useSelectReference:a}),i[2]=r,i[3]=s,i[4]=c,i[5]=u,i[6]=d,i[7]=m,i[8]=a,i[9]=n):n=i[9],n}).displayName||(m.displayName="GetJobLogsButton")}catch{}try{Y.displayName||(Y.displayName="ExpandableFunctionButton")}catch{}try{(h=function(e){let t,n,i,r=(0,b.c)(17),{chatManager:s,functionCall:o,skillArgs:a,useSelectReference:l}=e,c="GitHub API",u=o.references?.[0];if(u){let e=u.type;if(e.endsWith(".api"))if(r[0]!==e){let t=e.split(".")[0];t&&(c=`${t.split("-").map(ee).join(" ")} API`),r[0]=e,r[1]=c}else c=r[1];else"api-response"===u.type&&(c=`${u.resourceType} API`)}r[2]!==a.endpoint||r[3]!==a.endpointDescription?(t=a.endpointDescription?{errorButtonText:`An error occurred when using the GitHub API to ${a.endpointDescription}`,inProgressMessage:`Using the GitHub API to ${a.endpointDescription}`,noResultsMessage:`Unable to use the GitHub API to ${a.endpointDescription}`,successButtonText:`Using the GitHub API to ${a.endpointDescription}`}:{errorButtonText:`An error occurred when fetching from ${a.endpoint}`,inProgressMessage:`Fetching endpoint ${a.endpoint}`,noResultsMessage:`Unable to fetch from ${a.endpoint}`,successButtonText:`Using endpoint ${a.endpoint}`},r[2]=a.endpoint,r[3]=a.endpointDescription,r[4]=t):t=r[4];let d=t;return r[5]!==a?(n=e=>e.references?.filter(X).map(e=>(function(e,t){switch(e.type){case"release.api":return{description:`Release ${e.tag_name} \xb7 ${t.repo}`,leadingIcon:x.TagIcon,title:e.name??"Release",url:e.html_url};case"issue.api":return{description:`#${e.number} \xb7 ${t.repo}`,leadingIcon:x.IssueOpenedIcon,title:e.title??"Issue",url:e.html_url};case"pull-request.api":return{description:`#${e.number} \xb7 ${t.repo}`,leadingIcon:x.GitPullRequestIcon,title:e.title??"Pull request",url:e.html_url};case"repository.api":return{description:e.description||"",title:e.name,leadingIcon:x.RepoIcon,url:e.html_url};case"commit.api":return{description:`${e.sha} \xb7 ${t.repo}`,leadingIcon:x.GitCommitIcon,title:e.commit.message??"Commit",url:e.html_url};case"topic.api":return{description:e.short_description||"",leadingIcon:x.HashIcon,title:e.display_name??e.name};case"api-response":switch(e.resourceType){case"Repository":return{description:e.data.description||"",title:e.data.name,leadingIcon:x.RepoIcon,url:e.data.html_url};case"Issue":return{description:`#${e.data.number} \xb7 ${t.repo}`,leadingIcon:x.IssueOpenedIcon,title:e.data.title??"Issue",url:e.data.html_url};case"Release":return{description:`Release ${e.data.tag_name} \xb7 ${t.repo}`,leadingIcon:x.TagIcon,title:e.data.name??"Release",url:e.data.html_url};case"PullRequest":return{description:`#${e.data.number} \xb7 ${t.repo}`,leadingIcon:x.GitPullRequestIcon,title:e.data.title??"Pull request",url:e.data.html_url};case"Commit":return{description:`${e.data.sha} \xb7 ${t.repo}`,leadingIcon:x.GitCommitIcon,title:e.data.commit.message??"Commit",url:e.data.html_url};case"Topic":return{description:e.data.short_description||"",leadingIcon:x.HashIcon,title:e.data.display_name??e.data.name};default:return{description:"API endpoint returned results successfully",leadingIcon:x.InfoIcon,title:"API results"}}default:return{description:"API endpoint returned results successfully",leadingIcon:x.InfoIcon,title:"API results"}}})(e,a))??[],r[5]=a,r[6]=n):n=r[6],r[7]!==s||r[8]!==o||r[9]!==d.errorButtonText||r[10]!==d.inProgressMessage||r[11]!==d.noResultsMessage||r[12]!==d.successButtonText||r[13]!==n||r[14]!==c||r[15]!==l?(i=(0,f.jsx)(Y,{chatManager:s,errorTitle:"An error occurred when fetching data from the GitHub API",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:c,functionCall:o,errorButtonText:d.errorButtonText,inProgressMessage:d.inProgressMessage,noResultsMessage:d.noResultsMessage,successButtonText:d.successButtonText,useSelectReference:l,resultsMapper:n}),r[7]=s,r[8]=o,r[9]=d.errorButtonText,r[10]=d.inProgressMessage,r[11]=d.noResultsMessage,r[12]=d.successButtonText,r[13]=n,r[14]=c,r[15]=l,r[16]=i):i=r[16],i}).displayName||(h.displayName="GetGitHubDataButton")}catch{}try{(g=function(e){let t,n=(0,b.c)(7),{chatManager:i,functionCall:r,skillArgs:s}=e,o=`An error occurred when retrieving \u{201C}${s.name}\u{201D}`,a=`Getting Figma file \u{201C}${s.name}\u{201D}`,l=`Unable to retrieve \u{201C}${s.name}\u{201D}`,c=`Using result from \u{201C}${s.name}\u{201D}`;return n[0]!==i||n[1]!==r||n[2]!==o||n[3]!==a||n[4]!==l||n[5]!==c?(t=(0,f.jsx)(Y,{chatManager:i,errorButtonText:o,errorTitle:"An error occurred retrieving Figma file",toolLink:"https://figma.com",toolName:"Get Figma",functionCall:r,inProgressMessage:a,noResultsMessage:l,resultsMapper:et,successButtonText:c,useSelectReference:!1}),n[0]=i,n[1]=r,n[2]=o,n[3]=a,n[4]=l,n[5]=c,n[6]=t):t=n[6],t}).displayName||(g.displayName="FigmaButton")}catch{}try{(p=function(e){let t,n,i=(0,b.c)(8),{chatManager:r,functionCall:s,skillArgs:o}=e,a=o.rawUserQuery;i[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,f.jsx)(T.A,{href:en,rel:"nofollow",target:"_blank",children:"Information on using Copilot in GitHub Support"}),i[0]=t):t=i[0];let l=`An error occurred when searching for \u{201C}${a}\u{201D}`,c=`Searching support documents for \u{201C}${a}\u{201D}`,u=`No support documents for \u{201C}${a}\u{201D} were found`,d=`Using support search results for \u{201C}${a}\u{201D}`;return i[1]!==r||i[2]!==s||i[3]!==l||i[4]!==c||i[5]!==u||i[6]!==d?(n=(0,f.jsx)(Y,{additionalFooterContent:t,chatManager:r,errorButtonText:l,errorTitle:"An error occurred when searching support documents",toolLink:en,toolName:"Support Search",functionCall:s,inProgressMessage:c,noResultsMessage:u,resultsMapper:ei,successButtonText:d,useSelectReference:!1}),i[1]=r,i[2]=s,i[3]=l,i[4]=c,i[5]=u,i[6]=d,i[7]=n):n=i[7],n}).displayName||(p.displayName="SupportSearchButton")}catch{}let eo=()=>{let e,t=(0,b.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,f.jsx)(x.SearchIcon,{}),t[0]=e):e=t[0],e},ea=()=>{let e,t=(0,b.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,f.jsx)(x.FileIcon,{}),t[0]=e):e=t[0],e},el=()=>{let e,t=(0,b.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,f.jsx)(x.TagIcon,{}),t[0]=e):e=t[0],e},ec=()=>{let e,t=(0,b.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,f.jsx)(x.PlayIcon,{}),t[0]=e):e=t[0],e},eu=()=>{let e,t=(0,b.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,f.jsx)(x.BookIcon,{}),t[0]=e):e=t[0],e},ed=()=>{let e,t=(0,b.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,f.jsx)(x.CommentDiscussionIcon,{}),t[0]=e):e=t[0],e},em=()=>{let e,t=(0,b.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,f.jsx)(x.TasklistIcon,{}),t[0]=e):e=t[0],e},eh=()=>{let e,t=(0,b.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,f.jsx)(eh,{}),t[0]=e):e=t[0],e},eg="planning response";function ep(e){let t,n,i,r,s=(0,b.c)(10),{maxWidth:o,functionMetadata:a}=e;return s[0]!==a?(t=a.icon(),s[0]=a,s[1]=t):t=s[1],s[2]!==o?(n={maxWidth:o},s[2]=o,s[3]=n):n=s[3],s[4]!==a.completedText||s[5]!==n?(i=(0,f.jsx)(N.PA,{title:a.completedText,sx:n,children:a.completedText}),s[4]=a.completedText,s[5]=n,s[6]=i):i=s[6],s[7]!==t||s[8]!==i?(r=(0,f.jsxs)(f.Fragment,{children:[t,i]}),s[7]=t,s[8]=i,s[9]=r):r=s[9],r}function ef(e){let t,n,i,r,s=(0,b.c)(10),{maxWidth:o,functionMetadata:a}=e;return s[0]!==a?(t=a.icon(),s[0]=a,s[1]=t):t=s[1],s[2]!==o?(n={maxWidth:o},s[2]=o,s[3]=n):n=s[3],s[4]!==a.loadingText||s[5]!==n?(i=(0,f.jsx)(N.PA,{title:a.loadingText,sx:n,children:a.loadingText}),s[4]=a.loadingText,s[5]=n,s[6]=i):i=s[6],s[7]!==t||s[8]!==i?(r=(0,f.jsxs)(f.Fragment,{children:[t,i]}),s[7]=t,s[8]=i,s[9]=r):r=s[9],r}function eb(e){let t,n,i,r,s=(0,b.c)(10),{functionCall:o,functionMetadata:a}=e;return s[0]!==a.activeSkillText?(t=(0,f.jsxs)(_.A,{as:"h3",className:R.errorHeading,children:["An error occurred while ",a.activeSkillText]}),s[0]=a.activeSkillText,s[1]=t):t=s[1],s[2]!==o.errorMessage?(n=(0,f.jsx)("p",{className:R.errorMessage,children:o.errorMessage}),s[2]=o.errorMessage,s[3]=n):n=s[3],s[4]!==a.name?(i=(0,f.jsxs)("p",{className:R.toolDescriptionText,children:["Copilot used the ",(0,f.jsx)("span",{className:R.toolNameHighlight,children:a.name})," tool"]}),s[4]=a.name,s[5]=i):i=s[5],s[6]!==t||s[7]!==n||s[8]!==i?(r=(0,f.jsxs)("div",{className:R.errorContainer,children:[t,n,i]}),s[6]=t,s[7]=n,s[8]=i,s[9]=r):r=s[9],r}function ey(e){let t,n=(0,b.c)(4),{functionCall:i,functionMetadata:r,panelWidth:s}=e,o=s?s-130:C.Jt.DEFAULT_PANEL_WIDTH;if(n[0]!==i||n[1]!==r||n[2]!==o){let e=i?.status==="error"?(0,f.jsx)(eb,{functionCall:i,functionMetadata:r}):i?.status==="completed"?(0,f.jsx)(ep,{maxWidth:o,functionMetadata:r}):(0,f.jsx)(ef,{maxWidth:o,functionMetadata:r});t=(0,f.jsx)("div",{className:R.functionTitleContainer,children:e}),n[0]=i,n[1]=r,n[2]=o,n[3]=t}else t=n[3];return t}function ex(e){if(!e)return eg;let t=function(e){if(e)return(e=>{switch(e.kind){case"bing-search":return{id:"bing-search",referenceType:"web-search",loadingText:`Using Bing to search for "${e.query}"`,completedText:`Bing results for "${e.query}"`,icon:y._,name:"Bing search",activeSkillText:"searching Bing"};case"lexical-code-search":return{id:"codesearch",loadingText:`Search for "${e.query}" in "${e.scopingQuery}"`,completedText:`Search results for "${e.query}" in "${e.scopingQuery}"`,icon:eo,name:"Code search",activeSkillText:"searching the codebase"};case"semantic-code-search":return{id:"codesearch",loadingText:`Search for "${e.query}" in "${e.repoOwner}/${e.repoName}"`,completedText:`Search results for "${e.query}" in "${e.repoOwner}/${e.repoName}"`,icon:eo,name:"Code search",activeSkillText:"searching the codebase"};case"kb-search":return{id:"kb-search",loadingText:`Searching for "${e.query}" in the knowledge base`,completedText:`Knowledge base search results for "${e.query}"`,icon:eu,name:"Knowledge base search",activeSkillText:"searching the knowledge base"};case"getalert":return{id:"getalert",loadingText:"Retrieving information about alerts",completedText:"Including information about alerts",icon:()=>(0,f.jsx)(x.ShieldIcon,{}),name:"Get alert",activeSkillText:"getting alert"};case"get-github-data":return{id:"get-github-data",loadingText:`Fetching ${e.endpoint}`,completedText:`Results of ${e.endpoint}`,icon:el,name:"Get GitHub Data",activeSkillText:"getting data"};case"get-actions-job-logs":{let t=Q(e),n=t.charAt(0).toUpperCase()+t.slice(1);return{id:"get-actions-jog-logs",loadingText:`Retrieving ${t} in ${e.repo}`,completedText:`${n} in ${e.repo}`,icon:ec,name:"Get job logs",activeSkillText:"getting job logs"}}case"getdiscussion":return{id:"getdiscussion",loadingText:`Fetching discussion ${e.discussionNumber}`,completedText:`Details about discussion #${e.discussionNumber}`,icon:ed,name:"Get discussion",activeSkillText:"getting discussion"};case"getfile":return{id:"getfile",loadingText:"Searching for file",completedText:"Using results of get file",icon:ea,name:"Get file",activeSkillText:"searching for file"};case"getfilechanges":return{id:"getfilechanges",loadingText:"Searching for file changes",completedText:`File changes for ${e.path} in ${e.repo}`,icon:ea,name:"Get file changes",activeSkillText:"searching for file changes"};case"planskill":return{id:"planskill",loadingText:"Planning response...",completedText:"Plan created",icon:em,name:"Plan skill",activeSkillText:"planning response"};case"support-search":return{id:"supportsearch",loadingText:"Searching for support documents",completedText:"Using results of support search",icon:eu,name:"Support search",activeSkillText:"searching for support documents"};case"get-figma":return{id:"getfigma",loadingText:"Analyzing Figma file",completedText:"Using results of Figma file",icon:eu,name:"Get Figma",activeSkillText:"analyzing Figma file"};case"codesearchagentskill":return{id:"codesearchagentskill",loadingText:"Using the code search agent",completedText:"Using results of code search agent",icon:eu,name:"Code Search Agent",activeSkillText:"searching the codebase"};case"github-draft-issue.draft-issue":{let t,n;return e.issueNumber?(t=e.repository?`Drafting update for @${e.repository}/issues/${e.issueNumber}`:"Drafting update",n=e.repository?`Drafted update for @${e.repository}/issues/${e.issueNumber}`:"Drafted update"):(t=e.repository?`Drafting issue in ${e.repository}`:"Drafting issue",n=e.repository?`Drafted issue in ${e.repository}`:"Drafted issue"),{id:"github-draft-issue.draft-issue",loadingText:t,completedText:n,icon:eh,name:"GitHub Draft Issue Step: Draft Issue",activeSkillText:t.toLowerCase()}}case"github-draft-issue.existing-issue":{let t=e.repository?`Drafting issue in ${e.repository}`:"Drafting issue";return{id:"github-draft-issue.existing-issue",loadingText:t,completedText:e.repository?`Drafted issue in ${e.repository}`:"Drafted issue",icon:eh,name:"GitHub Draft Issue Step: Existing Issue",activeSkillText:t.toLowerCase()}}case"github-draft-issue.repository-metadata":{let t=`Fetching metadata from ${e.repository}`;return{id:"github-draft-issue.repository-metadata",loadingText:t,completedText:`Using metadata from ${e.repository}`,icon:eh,name:"GitHub Draft Issue Step: Repository Metadata",activeSkillText:t.toLowerCase()}}case"github-draft-issue.get-issues":{let t=(e.issueRefs||[]).length>1?"Fetching issues":"Fetching issue";return{id:"github-draft-issue.get-issues",loadingText:t,completedText:(e.issueRefs||[]).length>1?"Fetched issues":"Fetched issue",icon:eh,name:"GitHub Draft Issue Step: Get Issues",activeSkillText:t.toLowerCase()}}}})({...JSON.parse(e?.arguments||"{}"),kind:e.slug})}(e);return e.statusMessage??t?.activeSkillText??eg}try{eo.displayName||(eo.displayName="CodeSearchIcon")}catch{}try{ea.displayName||(ea.displayName="GetFileIcon")}catch{}try{el.displayName||(el.displayName="ReleaseIcon")}catch{}try{ec.displayName||(ec.displayName="JobIcon")}catch{}try{eu.displayName||(eu.displayName="KnowledgeBaseIcon")}catch{}try{ed.displayName||(ed.displayName="DiscussionIcon")}catch{}try{em.displayName||(em.displayName="PlanIcon")}catch{}try{eh.displayName||(eh.displayName="IssueDraftIcon")}catch{}try{ep.displayName||(ep.displayName="FunctionCompleted")}catch{}try{ef.displayName||(ef.displayName="FunctionLoading")}catch{}try{eb.displayName||(eb.displayName="FunctionError")}catch{}try{ey.displayName||(ey.displayName="FunctionTitle")}catch{}},17285:(e,t,n)=>{n.d(t,{Z:()=>i});function i(e){return e.charAt(0).toUpperCase()+e.slice(1)}},31958:(e,t,n)=>{n.d(t,{h:()=>l});var i=n(74848),r=n(21728),s=n(97949),o=n(34164);let a={interruptedBanner:"InterruptedBanner-module__interruptedBanner--o4zN7",hasContent:"InterruptedBanner-module__hasContent--eZVJ0"};function l(e){let t,n,l=(0,r.c)(4),{messageHasContent:c}=e,u=c&&a.hasContent;return l[0]!==u?(t=(0,o.$)(a.interruptedBanner,u),l[0]=u,l[1]=t):t=l[1],l[2]!==t?(n=(0,i.jsx)(s.l,{className:t,"data-testid":"chat-message-interrupted",description:"Copilot was interrupted before it could finish this message.",hideTitle:!0,title:"Message interrupted",variant:"info"}),l[2]=t,l[3]=n):n=l[3],n}try{l.displayName||(l.displayName="InterruptedBanner")}catch{}},32744:(e,t,n)=>{n.d(t,{m:()=>d});var i=n(74848),r=n(21728),s=n(81960),o=n(21373),a=n(34164),l=n(96540),c=n(2635);let u={ConfirmationContainer:"Confirmation-module__ConfirmationContainer--LWT81",confirmationTitle:"Confirmation-module__confirmationTitle--e5Xlk",confirmationMessage:"Confirmation-module__confirmationMessage--APY8y",actionButtonsContainer:"Confirmation-module__actionButtonsContainer--MdVl0"};function d(e){let t,n,d,h,g,p,f,b=(0,r.c)(22),{confirmation:y,handleConfirmation:x,isLatestMessage:_}=e,N=(0,c.Pk)();if(b[0]!==y.confirmation||b[1]!==N.allClientConfirmations){let e=JSON.stringify(Object.values(y.confirmation).sort());t=N.allClientConfirmations?.includes(e),b[0]=y.confirmation,b[1]=N.allClientConfirmations,b[2]=t}else t=b[2];let C=t,{isWaitingOnCopilot:T,currentUserLogin:v}=N,[I,k]=(0,l.useState)(C&&!_);b[3]!==y.confirmation||b[4]!==y.onSubmit||b[5]!==y.title||b[6]!==v||b[7]!==x?(n=e=>{k(!0),x({state:e,userLogin:v,confirmation:y.confirmation},y.title,y.onSubmit)},b[3]=y.confirmation,b[4]=y.onSubmit,b[5]=y.title,b[6]=v,b[7]=x,b[8]=n):n=b[8];let $=n;return b[9]===Symbol.for("react.memo_cache_sentinel")?(d=(0,a.$)("border rounded-2",u.ConfirmationContainer),b[9]=d):d=b[9],b[10]!==y.title?(h=(0,i.jsx)(s.A,{as:"h3",className:u.confirmationTitle,children:y.title}),b[10]=y.title,b[11]=h):h=b[11],b[12]!==y.message?(g=y.message.split(`
`).map(m),b[12]=y.message,b[13]=g):g=b[13],b[14]!==I||b[15]!==$||b[16]!==T?(p=!I&&(0,i.jsxs)("div",{className:u.actionButtonsContainer,children:[(0,i.jsx)(o.Q,{disabled:T,variant:"primary",onClick:()=>$("accepted"),children:"Allow"}),(0,i.jsx)(o.Q,{disabled:T,onClick:()=>$("dismissed"),children:"Dismiss"})]}),b[14]=I,b[15]=$,b[16]=T,b[17]=p):p=b[17],b[18]!==h||b[19]!==g||b[20]!==p?(f=(0,i.jsxs)("div",{className:d,children:[h,g,p]}),b[18]=h,b[19]=g,b[20]=p,b[21]=f):f=b[21],f}function m(e){return(0,i.jsx)("p",{className:u.confirmationMessage,children:e},e)}try{d.displayName||(d.displayName="Confirmation")}catch{}},34363:(e,t,n)=>{n.d(t,{G:()=>x});var i=n(74848),r=n(21728),s=n(38621),o=n(26108),a=n(96540),l=n(2635),c=n(33592),u=n(46665);let d={submittedFeedbackButton:"Feedback-module__submittedFeedbackButton--BrkHM"};var m=n(77274),h=n(35247),g=n(79064),p=n(54508);let f={thumbsUp:"MessageFeedbackDialog-module__thumbsUp--go17F",thumbsDown:"MessageFeedbackDialog-module__thumbsDown--sluhP"},b=[{name:"Bad",value:"NEGATIVE",icon:(0,i.jsx)(s.ThumbsdownIcon,{className:f.thumbsDown}),color:"bad"},{name:"Good",value:"POSITIVE",icon:(0,i.jsx)(s.ThumbsupIcon,{className:f.thumbsUp}),color:"good"}],y=(0,a.forwardRef)(function({messageId:e,threadId:t,returnFocusRef:n,onSubmitted:r,onClose:s},o){let l=(0,c.b)(),u=(0,a.useRef)(null),d=(0,a.useRef)(null),f=(0,a.useRef)(void 0);(0,a.useImperativeHandle)(o,()=>({openDialog:e=>{f.current=e,h.W.copilotChatInterviewSurvey?u.current?.openDialog():d.current?.openDialog(e)}}));let y=async(n,i)=>{let s=[];if(null==n&&s.push("Please select a rating."),i.length>500&&s.push("Please keep your feedback within 500 characters or less."),s.length>0)return s;try{(await l.service.sendFeedback({feedback:n,feedbackChoice:[],messageId:e,threadId:t,textResponse:i})).ok?r?.(n):s.push("An error occurred while submitting your feedback.")}catch{s.push("An error occurred while submitting your feedback.")}return s};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(p.E,{ref:u,title:"Give additional feedback",onClose:e=>{"no-thanks"===e?d.current?.openDialog(f.current):s?.()}}),(0,i.jsx)(m.NE,{title:"Give additional feedback",ref:d,options:b,onSubmit:y,onClose:s,requestID:g.Jt.getRequestID(e),returnFocusRef:n})]})});function x(e){let t,n,m,h,g,p=(0,r.c)(20),{iconSize:f}=e,{message:b}=(0,u.V)(),x=b.id,_=b.threadID,N=(0,c.b)(),C=(0,a.useRef)(null),T=(0,a.useRef)(null);p[0]!==N||p[1]!==b?(t=e=>{N.handleFeedback(b,e)},p[0]=N,p[1]=b,p[2]=t):t=p[2];let v=t,{optedInToUserFeedback:I}=(0,l.Pk)();p[3]!==N.service||p[4]!==x||p[5]!==v||p[6]!==I||p[7]!==_?(n=e=>{N.service.sendFeedback({feedback:e,messageId:x,threadId:_}),v(e),I?C.current?.openDialog(e):T.current?.focus()},p[3]=N.service,p[4]=x,p[5]=v,p[6]=I,p[7]=_,p[8]=n):n=p[8];let k=n;return p[9]!==f||p[10]!==b.feedback||p[11]!==k?(m=null!=b.feedback?(0,i.jsx)(o.K,{ref:T,"aria-label":`${b.feedback.toLocaleLowerCase()} feedback submitted`,icon:"POSITIVE"===b.feedback?s.ThumbsupIcon:s.ThumbsdownIcon,variant:"invisible",size:f,"aria-disabled":!0,className:d.submittedFeedbackButton}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.K,{icon:s.ThumbsupIcon,"aria-label":"Good response",onClick:()=>k("POSITIVE"),variant:"invisible",size:f}),(0,i.jsx)(o.K,{icon:s.ThumbsdownIcon,size:f,"aria-label":"Bad response",onClick:()=>k("NEGATIVE"),variant:"invisible"})]}),p[9]=f,p[10]=b.feedback,p[11]=k,p[12]=m):m=p[12],p[13]!==x||p[14]!==v||p[15]!==_?(h=(0,i.jsx)(y,{ref:C,messageId:x,threadId:_,onSubmitted:v,returnFocusRef:T}),p[13]=x,p[14]=v,p[15]=_,p[16]=h):h=p[16],p[17]!==m||p[18]!==h?(g=(0,i.jsxs)(i.Fragment,{children:[m,h]}),p[17]=m,p[18]=h,p[19]=g):g=p[19],g}y.displayName="MessageFeedbackDialog";try{x.displayName||(x.displayName="Feedback")}catch{}},42983:(e,t,n)=>{n.d(t,{$:()=>l});var i=n(74848),r=n(21728),s=n(38621),o=n(26108),a=n(12970);function l(e){let t,n,l=(0,r.c)(10),{handleRetryMessage:c,disabled:u,showModelPicker:d,model:m,navigateToNewThread:h}=e,g=void 0!==u&&u,p=void 0!==d&&d;l[0]!==c||l[1]!==m?(t=()=>{c(m)},l[0]=c,l[1]=m,l[2]=t):t=l[2];let f=t;if(p&&(!h||!m))throw Error("navigateToNewThread and model must be provided in order to show the model picker");return l[3]!==g||l[4]!==f||l[5]!==c||l[6]!==m||l[7]!==h||l[8]!==p?(n=p?(0,i.jsx)(a.Yb,{onNewThreadSelected:h,type:"message-retry",selectedModel:m,onModelSelected:c,disabled:g}):(0,i.jsx)(o.K,{variant:"invisible","aria-label":"Retry","data-testid":"retry-button",onClick:f,icon:s.SyncIcon,disabled:g}),l[3]=g,l[4]=f,l[5]=c,l[6]=m,l[7]=h,l[8]=p,l[9]=n):n=l[9],n}try{l.displayName||(l.displayName="RetryButton")}catch{}},52940:(e,t,n)=>{n.d(t,{p:()=>g});var i=n(4559),r=n(53419),s=n(96540),o=n(46665),a=n(25641),l=n(2635),c=n(33592),u=n(72303),d=n(72206),m=n(17285),h=n(27359);function g({excludeFeedback:e,inputRef:t,isLatestMessage:n,isStreaming:g,removeOutdatedContentPreviewItems:p}){let{message:f}=(0,o.V)(),b=(0,l.bP)("currentUserLogin","mode"),y=(0,d.tD)(),x=(0,c.b)(),_=(0,h.v)(),N=(0,a.Th)(f,b.currentUserLogin),C="Copilot"===N.name,T="user"===N.type,v=C||(0,a.yh)(N),I=C&&!!f.agentErrors?.length,k=!I&&!!C&&!!f.error&&f.error.isError,$=C&&!e&&(!n||!g)&&!k,w=(0,s.useRef)(null),S=f.interrupted,j=f.clientConfirmations&&f.clientConfirmations.length>0,M=k&&f.error?.retryable,[A,L]=(0,s.useState)([]),[R,B]=(0,s.useState)(void 0),F=(M||S)&&n,D=n&&g,U=(0,s.useMemo)(()=>({openLinksInCurrentTab:"assistive"===b.mode,isStreaming:D,extensions:_?.markdownExtensions?_.markdownExtensions.map(e=>e()):[]}),[b.mode,D,_?.markdownExtensions]),P=!k&&($||v&&!!f.content&&!g)&&(!T||!f.confirmations)||T&&!n||k&&n,G=(0,s.useRef)(0);(0,s.useEffect)(()=>{B(void 0),L([])},[f.id]),(0,s.useEffect)(()=>{let e=(f.skillExecutions??[]).find(e=>!A.some(t=>t.slug===e.slug&&t.statusMessage===e.statusMessage));if(e){let t=setTimeout(()=>{G.current=Date.now(),L([...A,e]),B(e)},Math.max(0,2e3-(Date.now()-G.current)));return()=>clearTimeout(t)}},[f.skillExecutions,A]),(0,s.useEffect)(()=>{D&&(0,i.i)("Copilot is responding")},[D]),(0,s.useEffect)(()=>{n&&!g&&w.current&&(0,i.C)(w.current)},[n,g]);let E=(0,s.useCallback)(async(e,t,n)=>{if(n)n("accepted"===e.state);else{let n=y();await x.sendChatMessage({thread:(0,u.W)(n),content:`@${N.name} ${(0,m.Z)(e.state)} Confirmation: ${t}`,references:f.references??[],topic:n.currentTopic,context:n.context,confirmations:e,customInstructions:n.customInstructions,model:n.model})}},[y,x,N.name,f.references]),q=(0,s.useCallback)(()=>{window.setTimeout(()=>t?.current?.focus(),1)},[t]),H=(0,s.useCallback)(async()=>{let e=y(),t=(0,u.W)(e);t&&(p?.(),q(),(0,r.BI)("dotcom_chat.activate",{target:"RESPONSE_ACTION_RETRY",mode:e.mode}),await x.retryLastUnsuccessfulChatMessage(t))},[y,p,q,x]),O=(0,s.useCallback)(async e=>{let t=y(),n=(0,u.W)(t);n&&(p?.(),q(),(0,r.BI)("dotcom_chat.activate",{target:"RESPONSE_ACTION_RETRY_FOR_NEW_SUBTHREAD",mode:t.mode}),await x.retryUserChatMessage(n,f,e))},[y,x,f,p,q]),z=(0,s.useCallback)(async e=>{let t=y(),n=(0,u.W)(t);n&&(p?.(),await x.editUserChatMessage(n,f,e))},[y,x,f,p]);return{author:N,removeOutdatedContentPreviewItems:p,handleConfirmationAction:E,handleRetryErrorMessage:H,handleRetryCopilotResponse:O,handleEditUserMessage:z,hasClientConfirmations:j,isCopilot:C,isUser:T,isAI:v,isAgentError:I,isError:k,isInterrupted:S,myRef:w,rendererConfig:U,renderFeedback:$,shouldShowMessageActions:P,skillExecutionToUseForRespondingText:R,showRetryButton:F}}},55009:(e,t,n)=>{n.d(t,{o:()=>u});var i=n(74848),r=n(21728),s=n(34164),o=n(96540);let a={chatImageAttachment:"ChatImage-module__chatImageAttachment--yonSm",squareView:"ChatImage-module__squareView--nZPWG",fullView:"ChatImage-module__fullView--hHWSy",userAttachedImage:"ChatImage-module__userAttachedImage--e5PZR",overlay:"ChatImage-module__overlay--Z0bfs",overlayScreen:"ChatImage-module__overlayScreen--oZnB_",expandIcon:"ChatImage-module__expandIcon--H2k4g"};function l(e){let t,n,s=(0,r.c)(5),{className:o,size:a}=e,l=a||14,c=a||14;return s[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,i.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M13.672 5.342a.8.8 0 0 0 .05-.295V.805a.75.75 0 0 0-.75-.75H8.73a.75.75 0 0 0 0 1.5h2.433L8.138 4.577A.75.75 0 0 0 9.2 5.638l3.024-3.023v2.432a.75.75 0 0 0 1.45.295M.328 8.657a.8.8 0 0 0-.05.295v4.243a.75.75 0 0 0 .75.75h4.243a.75.75 0 0 0 0-1.5H2.838l3.024-3.023A.75.75 0 1 0 4.8 8.362l-3.024 3.023V8.952a.75.75 0 0 0-1.45-.295",clipRule:"evenodd"}),s[0]=t):t=s[0],s[1]!==o||s[2]!==l||s[3]!==c?(n=(0,i.jsx)("svg",{className:o,xmlns:"http://www.w3.org/2000/svg",width:l,height:c,fill:"none",viewBox:"0 0 14 14",role:"presentation",children:t}),s[1]=o,s[2]=l,s[3]=c,s[4]=n):n=s[4],n}try{l.displayName||(l.displayName="ExpandIcon")}catch{}let c=e=>{let t,n,c,u,d,m,h,g,p,f=(0,r.c)(25),{src:b,alt:y,onClick:x,useOverlay:_,mode:N,squareView:C}=e,[T,v]=(0,o.useState)(!1),I=C?a.squareView:a.fullView,k="assistive"===N;f[0]!==I||f[1]!==k?(t=(0,s.$)(a.chatImageAttachment,I,{assistive:k}),f[0]=I,f[1]=k,f[2]=t):t=f[2];let $=C?a.squareView:a.fullView;return f[3]!==$?(n=(0,s.$)(a.userAttachedImage,$),f[3]=$,f[4]=n):n=f[4],f[5]!==y||f[6]!==b||f[7]!==n?(c=(0,i.jsx)("img",{className:n,src:b,alt:y}),f[5]=y,f[6]=b,f[7]=n,f[8]=c):c=f[8],f[9]!==T||f[10]!==C?(u=(0,s.$)(a.overlay,{hovered:T,[a.squareView]:C}),f[9]=T,f[10]=C,f[11]=u):u=f[11],f[12]===Symbol.for("react.memo_cache_sentinel")?(d=()=>v(!0),m=()=>v(!1),f[12]=d,f[13]=m):(d=f[12],m=f[13]),f[14]!==_?(h=_&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:a.overlayScreen}),(0,i.jsx)(l,{className:a.expandIcon,size:20})]}),f[14]=_,f[15]=h):h=f[15],f[16]!==x||f[17]!==b||f[18]!==h||f[19]!==u?(g=(0,i.jsx)("a",{href:b,className:u,onClick:x,onMouseEnter:d,onMouseLeave:m,"aria-label":"Open image thumbnail",target:"_blank",rel:"noreferrer",children:h}),f[16]=x,f[17]=b,f[18]=h,f[19]=u,f[20]=g):g=f[20],f[21]!==g||f[22]!==t||f[23]!==c?(p=(0,i.jsxs)("div",{className:t,children:[c,g]}),f[21]=g,f[22]=t,f[23]=c,f[24]=p):p=f[24],p},u=(0,o.memo)(c);try{c.displayName||(c.displayName="ChatImageUnmemoized")}catch{}try{u.displayName||(u.displayName="ChatImage")}catch{}},59524:(e,t,n)=>{n.d(t,{Q:()=>c});var i=n(74848),r=n(21728),s=n(38621),o=n(4908),a=n(23398);let l={Details:"ChatMessageMcpToolResultsList-module__Details--ri1It",ToolInputOutputHeading:"ChatMessageMcpToolResultsList-module__ToolInputOutputHeading--tgNpb",ToolInputOutputContents:"ChatMessageMcpToolResultsList-module__ToolInputOutputContents--DB0rS"};function c(e){let t,n,s=(0,r.c)(4),{mcpToolResults:o}=e;return o&&0!==o.length?(s[0]!==o?(t=o.map(u),s[0]=o,s[1]=t):t=s[1],s[2]!==t?(n=(0,i.jsx)("div",{className:"mb-2",children:t}),s[2]=t,s[3]=n):n=s[3],n):null}function u(e){return(0,i.jsx)(d,{result:e},e.toolName)}function d(e){let t,n,c,u,d,m,h,g,p,f,b,y,x,_=(0,r.c)(29),{result:N}=e;_[0]===Symbol.for("react.memo_cache_sentinel")?(t={},_[0]=t):t=_[0];let{getDetailsProps:C,open:T}=(0,o.A)(t),v=N.toolName;return _[1]!==C?(n=C(),_[1]=C,_[2]=n):n=_[2],_[3]!==T?(c=!T&&(0,i.jsx)(s.ChevronRightIcon,{size:16,className:"mr-1 inline-block"}),_[3]=T,_[4]=c):c=_[4],_[5]!==T?(u=T&&(0,i.jsx)(s.ChevronDownIcon,{size:16,className:"mr-1 inline-block"}),_[5]=T,_[6]=u):u=_[6],_[7]===Symbol.for("react.memo_cache_sentinel")?(d=(0,i.jsx)(s.ToolsIcon,{size:16,className:"mr-1 inline-block"}),_[7]=d):d=_[7],_[8]!==N.serverName||_[9]!==N.toolName||_[10]!==c||_[11]!==u?(m=(0,i.jsxs)("summary",{children:[c,u,d,"Called ",N.toolName," from ",N.serverName]}),_[8]=N.serverName,_[9]=N.toolName,_[10]=c,_[11]=u,_[12]=m):m=_[12],_[13]===Symbol.for("react.memo_cache_sentinel")?(h=(0,i.jsx)("h3",{className:l.ToolInputOutputHeading,children:"Input"}),_[13]=h):h=_[13],_[14]!==N.toolArguments?(g=JSON.stringify(N.toolArguments,null,2),_[14]=N.toolArguments,_[15]=g):g=_[15],_[16]!==g?(p=(0,i.jsx)("div",{className:"border rounded p-2 mb-2",children:(0,i.jsx)("span",{className:l.ToolInputOutputContents,children:g})}),_[16]=g,_[17]=p):p=_[17],_[18]===Symbol.for("react.memo_cache_sentinel")?(f=(0,i.jsx)("h3",{className:l.ToolInputOutputHeading,children:"Output"}),_[18]=f):f=_[18],_[19]!==N.toolResponse?(b=JSON.stringify(N.toolResponse,null,2),_[19]=N.toolResponse,_[20]=b):b=_[20],_[21]!==b?(y=(0,i.jsx)("div",{className:"border rounded p-2 mb-2",children:(0,i.jsx)("span",{className:l.ToolInputOutputContents,children:b})}),_[21]=b,_[22]=y):y=_[22],_[23]!==N.toolName||_[24]!==p||_[25]!==y||_[26]!==n||_[27]!==m?(x=(0,i.jsxs)(a.A,{className:l.Details,...n,children:[m,h,p,f,y]},v),_[23]=N.toolName,_[24]=p,_[25]=y,_[26]=n,_[27]=m,_[28]=x):x=_[28],x}try{c.displayName||(c.displayName="ChatMessageMcpToolResultsList")}catch{}try{d.displayName||(d.displayName="McpToolResult")}catch{}},63262:(e,t,n)=>{n.d(t,{A:()=>u,i:()=>c});var i=n(74848),r=n(21728),s=n(71315),o=n(96540),a=n(2635),l=n(7104);let c=e=>{let t,n,c,u,d=(0,r.c)(10),{isLastGroup:m,children:h}=e,{scrollContainerHeight:g,scrollToBottom:p}=(0,l.b)(),{threadHasNewMessages:f,pendingFirstMessage:b}=(0,a.Pk)(),y=m&&(f||b);if(d[0]!==y||d[1]!==p?(t=()=>{y&&p("smooth")},n=[y,p],d[0]=y,d[1]=p,d[2]=t,d[3]=n):(t=d[2],n=d[3]),(0,o.useEffect)(t,n),y)if(s.cg?.CSS?.supports("container-type: size")){let e;d[4]===Symbol.for("react.memo_cache_sentinel")?(e={minHeight:"100cqh"},d[4]=e):e=d[4],u=e}else{let e;d[5]!==g?(e={minHeight:g},d[5]=g,d[6]=e):e=d[6],u=e}return d[7]!==h||d[8]!==u?(c=(0,i.jsx)("div",{style:u,children:h}),d[7]=h,d[8]=u,d[9]=c):c=d[9],c};function u(e){return e.reduce((e,t)=>{let n=e.at(-1);return"assistant"===(n?.at(-1)?.role??"assistant")&&"user"===t.role?e.push([t]):n?.push(t),e},[])}try{c.displayName||(c.displayName="ChatMessagesGroup")}catch{}},77939:(e,t,n)=>{n.d(t,{A:()=>i});let i={messageContainer:"ChatMessage-module__messageContainer--P78Nq","message-action":"ChatMessage-module__message-action--vjrqQ",user:"ChatMessage-module__user--UGo2h",ai:"ChatMessage-module__ai--zMYOs",contentContainer:"ChatMessage-module__contentContainer--XTssz",message:"ChatMessage-module__message--iDqZL",messageContent:"ChatMessage-module__messageContent--x5cFE",hasClientConfirmations:"ChatMessage-module__hasClientConfirmations--UEFyq",agentUnauthorizedAvatar:"ChatMessage-module__agentUnauthorizedAvatar--GTuSs",skillExecutionText:"ChatMessage-module__skillExecutionText--HOEoJ",fileListItem:"ChatMessage-module__fileListItem--hX_vZ",avatar:"ChatMessage-module__avatar--ublrF",clientConfirmationContainer:"ChatMessage-module__clientConfirmationContainer--LgTin",confirmationStatusText:"ChatMessage-module__confirmationStatusText--pUhyM",messageContentWrapper:"ChatMessage-module__messageContentWrapper--L96Ez","snippet-clipboard-content":"ChatMessage-module__snippet-clipboard-content--gS3Lo",messageActionsContainer:"ChatMessage-module__messageActionsContainer--WIjsz"}},82151:(e,t,n)=>{n.d(t,{R:()=>g});var i=n(74848),r=n(21728),s=n(57352),o=n(34164),a=n(7277),l=n(47789),c=n(99054),u=n(20330),d=n(16378),m=n(46665),h=n(6224);function g(e){let t,n,s,g,f,b,y=(0,r.c)(21),{className:x,accessibleHeader:_}=e,{message:N}=(0,m.V)(),C=(0,l.qw)(),T=N.content??"";y[0]!==T?(t=(0,d._)(T),y[0]=T,y[1]=t):t=y[1];let{availableAgents:v}=(0,c.JE)(t);if(y[2]!==_||y[3]!==x||y[4]!==N.references||y[5]!==C||y[6]!==v||y[7]!==T){let e=void 0===v?[]:v,t=(0,a.l)().use(u.U,{references:N.references??[],agents:e,plugins:C}).parse(T);y[11]!==_?(g=_&&(0,i.jsx)("h3",{className:"sr-only",children:_}),y[11]=_,y[12]=g):g=y[12],y[13]!==x?(n=(0,o.$)(h.A.container,x),y[13]=x,y[14]=n):n=y[14],s=t.children.map(p),y[2]=_,y[3]=x,y[4]=N.references,y[5]=C,y[6]=v,y[7]=T,y[8]=n,y[9]=s,y[10]=g}else n=y[8],s=y[9],g=y[10];return y[15]!==n||y[16]!==s?(f=(0,i.jsx)("div",{className:n,children:s}),y[15]=n,y[16]=s,y[17]=f):f=y[17],y[18]!==g||y[19]!==f?(b=(0,i.jsxs)(i.Fragment,{children:[g,f]}),y[18]=g,y[19]=f,y[20]=b):b=y[20],b}function p(e,t){switch(e.type){case"text":return e.value;case"agent-mention":return(0,i.jsx)(f,{agent:e.data.mentionedAgent,children:e.value},t);case"reference-mention":return void 0!==e.data.mentionedReferenceId?(0,i.jsx)("span",{className:h.A.mention,children:e.value},t):e.value}}function f(e){let t,n=(0,r.c)(4),{agent:o,children:a}=e,l=`/integrations/${o.slug}/hovercard`;return n[0]!==o.integrationUrl||n[1]!==a||n[2]!==l?(t=(0,i.jsx)(s.A,{href:o.integrationUrl,"data-hovercard-url":l,className:h.A.mention,children:a}),n[0]=o.integrationUrl,n[1]=a,n[2]=l,n[3]=t):t=n[3],t}try{g.displayName||(g.displayName="UserMessage")}catch{}try{f.displayName||(f.displayName="AgentLink")}catch{}},82178:(e,t,n)=>{n.d(t,{W:()=>h});var i=n(74848),r=n(21728),s=n(74807),o=n(34164),a=n(96540);let l={copilotBadge:"CopilotBadgeV2-module__copilotBadge--w1X6Q",loading:"CopilotBadgeV2-module__loading--qeW04",animation:"CopilotBadgeV2-module__animation--ttRRT",assistive:"CopilotBadgeV2-module__assistive--YGoYv",clickableAnimationWrapper:"CopilotBadgeV2-module__clickableAnimationWrapper--i45z5"},c=[s.L.Tickle,s.L.Celebrate,s.L.JumpWiggle],u=["yes","absolutely","certainly","sure","definitely","right","correct","indeed","precisely","exactly","true","affirmative","agree","agreed"],d=["no","never","negative","wrong","false","untrue","cannot","can't","sorry","incorrect","deny","disagree","refuse","unfortunately"];function m(e){let t=new Date(e);return(new Date().getTime()-t.getTime())/1e3/60<.5}function h(e){let t,n,h,p,f,b,y,x,_,N,C=(0,r.c)(37),{isFirstMessage:T,isLoading:v,isLoadingSkills:I,isError:k,className:$,mode:w,message:S,createdAt:j}=e,M=void 0!==T&&T;C[0]!==j||C[1]!==M?(t=()=>({animationType:M&&(!j||m(j))?s.L.Celebrate:s.L.Static,onFinish:s.L.Static,loopAnimation:!1,hasLoadedMessage:!1}),C[0]=j,C[1]=M,C[2]=t):t=C[2];let[A,L]=(0,a.useState)(t);C[3]!==j||C[4]!==k||C[5]!==v||C[6]!==I||C[7]!==S?(n=()=>{m(j)&&L(e=>(function({previousState:e,isLoadingSkills:t,isAffirmativeSentiment:n,isNegativeSentiment:i,isError:r,isLoading:o}){switch(e.animationType){case s.L.Static:if((n||i)&&!r&&!e.hasLoadedMessage)return{animationType:n?s.L.Affirmative:s.L.Negative,onFinish:s.L.Static,loopAnimation:!1,hasLoadedMessage:!0};if(t)return{...e,animationType:s.L.Thinking,loopAnimation:!0};if(!o&&!e.hasLoadedMessage&&!r)return{animationType:s.L.Confirm,onFinish:s.L.Static,loopAnimation:!1,hasLoadedMessage:!0};if(r&&!e.hasLoadedMessage)return{animationType:s.L.Negative,onFinish:s.L.Static,loopAnimation:!1,hasLoadedMessage:!0};return e;case s.L.Thinking:if(!t)return{...e,animationType:r?s.L.Negative:s.L.Static,loopAnimation:!1};return e;default:return e}})({previousState:e,isLoadingSkills:I||!1,isError:k||!1,isLoading:v||!1,isAffirmativeSentiment:function(e){if(e.length<200){let t=e.toLowerCase().split(/\W+/).filter(Boolean);return u.some(e=>t.includes(e.toLowerCase()))}return!1}(S),isNegativeSentiment:function(e){if(e.length<200){let t=e.toLowerCase().split(/\W+/).filter(Boolean);return d.some(e=>t.includes(e.toLowerCase()))}return!1}(S)}))},C[3]=j,C[4]=k,C[5]=v,C[6]=I,C[7]=S,C[8]=n):n=C[8],C[9]!==A.animationType||C[10]!==A.hasLoadedMessage||C[11]!==j||C[12]!==k||C[13]!==M||C[14]!==v||C[15]!==I||C[16]!==S?(h=[I,k,v,A.animationType,A.hasLoadedMessage,M,S,j],C[9]=A.animationType,C[10]=A.hasLoadedMessage,C[11]=j,C[12]=k,C[13]=M,C[14]=v,C[15]=I,C[16]=S,C[17]=h):h=C[17],(0,a.useEffect)(n,h),C[18]!==A||C[19]!==v?(p=()=>{v||L({...A,animationType:c[Math.floor(Math.random()*c.length)],onFinish:s.L.Static,loopAnimation:!1})},C[18]=A,C[19]=v,C[20]=p):p=C[20];let R=p,B=v&&l.loading;C[21]!==$||C[22]!==B?(f=(0,o.$)(l.copilotBadge,B,$),C[21]=$,C[22]=B,C[23]=f):f=C[23];let F=A.animationType;C[24]===Symbol.for("react.memo_cache_sentinel")?(b=()=>L(g),C[24]=b):b=C[24];let D=A.loopAnimation,U="assistive"===w&&l.assistive;return C[25]!==U?(y=(0,o.$)(l.animation,U),C[25]=U,C[26]=y):y=C[26],C[27]!==A.animationType||C[28]!==A.loopAnimation||C[29]!==y?(x=(0,i.jsx)(s.N,{animationType:F,onAnimationEnd:b,loopAnimation:D,className:y}),C[27]=A.animationType,C[28]=A.loopAnimation,C[29]=y,C[30]=x):x=C[30],C[31]!==R||C[32]!==x?(_=(0,i.jsx)("div",{onClick:R,className:l.clickableAnimationWrapper,children:x}),C[31]=R,C[32]=x,C[33]=_):_=C[33],C[34]!==_||C[35]!==f?(N=(0,i.jsx)("div",{className:f,"aria-label":"Copilot badge",role:"img",children:_}),C[34]=_,C[35]=f,C[36]=N):N=C[36],N}function g(e){return{...e,animationType:e.onFinish}}try{h.displayName||(h.displayName="CopilotBadge")}catch{}},88392:(e,t,n)=>{n.d(t,{a:()=>a});var i=n(96540),r=n(63262),s=n(73952),o=n(51213);function a(e){let{streamingMessage:t,isWaitingOnCopilot:n,messages:a,selectedThreadID:l,pendingFirstMessage:c}=e,u=(0,i.useMemo)(()=>{let e={id:o.Wp,role:"assistant",content:"",createdAt:"",threadID:l||"",references:[],clientSide:!0,messageIndex:-1},i=(0,s.B)(a,c);return n?[...i,t??e]:i},[l,a,c,n,t]);return{messages:u,groupedMessages:(0,r.A)(u)}}},93412:(e,t,n)=>{n.d(t,{h:()=>a});var i=n(74848),r=n(21728),s=n(57352);let o={container:"LegalDisclaimer-module__container--lNe5E"},a=()=>{let e,t=(0,r.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsxs)("span",{className:o.container,children:[(0,i.jsx)(s.A,{href:"https://docs.github.com/en/copilot/responsible-use-of-github-copilot-features/responsible-use-of-github-copilot-chat-in-githubcom",inline:!0,muted:!0,children:"Copilot"})," ","uses AI. Check for mistakes."]}),t[0]=e):e=t[0],e};try{a.displayName||(a.displayName="LegalDisclaimer")}catch{}},94517:(e,t,n)=>{n.d(t,{h:()=>T,K:()=>N});var i=n(74848),r=n(21728),s=n(4817),o=n(38621),a=n(57352),l=n(87448),c=n(62227);function u({error:e,className:t}){let n=e.identifier||"",r=n.split("url=")[1]||"",s=n.match(/\/([^/]+)\/sso/),u=s&&s[1]||"";return u&&r?(0,i.jsx)("div",{className:t,"data-testid":"sso-banner",children:(0,i.jsx)("div",{className:c.A.Box,children:(0,i.jsx)("section",{"aria-label":"Single sign-on information",children:(0,i.jsx)(l.Hx,{sx:{borderRadius:2,borderWidth:1},className:c.A.Flash,children:(0,i.jsxs)("div",{children:[(0,i.jsx)(o.ShieldLockIcon,{}),(0,i.jsx)(a.A,{inline:!0,href:function({authorizeUrl:e}){let t=new URL(e,window.location.origin);return t.searchParams.set("return_to",window.location.toString()),t.toString()}({authorizeUrl:r}),children:"Single sign-on"})," ","to see results in the ",(0,i.jsx)("b",{children:u})," organization."]})})})})}):null}try{u.displayName||(u.displayName="SSOBannerFromError")}catch{}var d=n(29731),m=n(97949),h=n(26108),g=n(21373),p=n(34164),f=n(96540),b=n(25641),y=n(17285),x=n(77939),_=n(46665);function N(e){let t=(0,r.c)(8),{manager:n}=e,{message:s}=(0,_.V)(),{error:o}=s;if(!o)return null;switch(o.type){case"agentUnauthorized":{let e;return t[0]!==o||t[1]!==n?(e=(0,i.jsx)(C,{error:o,manager:n}),t[0]=o,t[1]=n,t[2]=e):e=t[2],e}case"agentRequest":{let e;return t[3]!==o.details?(e=(0,i.jsx)(T,{errors:[o.details]}),t[3]=o.details,t[4]=e):e=t[4],e}default:{let e,n;t[5]===Symbol.for("react.memo_cache_sentinel")?(e=(0,d.G)("error-message-banner"),t[5]=e):e=t[5];let r=o.message||"Something went wrong";return t[6]!==r?(n=(0,i.jsx)(m.l,{...e,title:"Error",hideTitle:!0,description:r,variant:"warning"}),t[6]=r,t[7]=n):n=t[7],n}}}function C(e){let t,n,s,a,l,c,u,m,y,_,N,C=(0,r.c)(25),{error:T,manager:v}=e,{details:I}=T,[k,$]=(0,f.useState)(!1);C[0]!==I.name||C[1]!==v?(t=()=>{$(!0),v.dispatch({type:"MESSAGE_ADDED",message:(0,b.Y6)({role:"user",content:`Dismissed the connection with ${I.name}.`,mediaContent:[],parentMessageID:v.FindLastMessageID()})}),v.dispatch({type:"MESSAGE_ADDED",message:(0,b.Y6)({role:"assistant",content:`I was unable to connect you to ${I.name} because you cancelled the authentication.`,mediaContent:[],parentMessageID:v.FindLastMessageID()})})},C[0]=I.name,C[1]=v,C[2]=t):t=C[2];let w=t;C[3]===Symbol.for("react.memo_cache_sentinel")?(n=(0,d.G)("agent-unauthorized-error"),C[3]=n):n=C[3],C[4]!==k||C[5]!==w?(s=!k&&(0,i.jsx)(h.K,{"aria-label":"Close",className:"position-absolute top-0 right-0 mt-2 mr-2",icon:o.XIcon,onClick:w,variant:"invisible",unsafeDisableTooltip:!0}),C[4]=k,C[5]=w,C[6]=s):s=C[6],C[7]===Symbol.for("react.memo_cache_sentinel")?(a=(0,i.jsx)(o.MarkGithubIcon,{size:48,className:"border circle borderColor-muted"}),l=(0,i.jsx)(o.LinkIcon,{className:"fgColor-muted"}),c=(0,p.$)("avatar",x.A.agentUnauthorizedAvatar,"border circle borderColor-muted"),C[7]=a,C[8]=l,C[9]=c):(a=C[7],l=C[8],c=C[9]);let S=`icon for ${I.name}`;return C[10]!==I.avatar_url||C[11]!==S?(u=(0,i.jsxs)("div",{className:"d-flex flex-items-center gap-2",children:[a,l,(0,i.jsx)("img",{className:c,src:I.avatar_url,alt:S})]}),C[10]=I.avatar_url,C[11]=S,C[12]=u):u=C[12],C[13]!==I.name?(y=(0,i.jsxs)("p",{className:"h4 m-0 text-center",children:["Connect with ",I.name]}),m=(0,i.jsxs)("p",{className:"fgColor-muted text-center",children:["To use the ",I.name," extension, you\u2019ll need to connect your GitHub account to your ",I.name," account."]}),C[13]=I.name,C[14]=m,C[15]=y):(m=C[14],y=C[15]),C[16]!==I.authorize_url||C[17]!==k?(_=!k&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(g.Q,{as:"a",variant:"primary",size:"large",className:"width-full",href:I.authorize_url,rel:"noopener",target:"_blank",children:"Connect"}),(0,i.jsxs)("p",{className:"fgColor-muted text-center f6 m-0",children:["Click connect to be redirected to ",I.authorize_url]})]}),C[16]=I.authorize_url,C[17]=k,C[18]=_):_=C[18],C[19]!==m||C[20]!==_||C[21]!==s||C[22]!==u||C[23]!==y?(N=(0,i.jsxs)("div",{className:"position-relative d-flex flex-column flex-items-center gap-3 border rounded-2 p-5",...n,children:[s,u,y,m,_]}),C[19]=m,C[20]=_,C[21]=s,C[22]=u,C[23]=y,C[24]=N):N=C[24],N}function T(e){let t,n,s=(0,r.c)(4),{errors:o}=e;return s[0]!==o?(t=o.map(v),s[0]=o,s[1]=t):t=s[1],s[2]!==t?(n=(0,i.jsx)("div",{className:"d-flex flex-column gap-2",children:t}),s[2]=t,s[3]=n):n=s[3],n}function v(e,t){var n,r,a,l,c;return n=e,r=t,"sso"===n.code?(0,i.jsx)(u,{error:n,className:"mt-3"},r):(a=n,l=r,(0,i.jsxs)("div",{className:"p-3 border rounded-2",children:[(0,i.jsxs)("div",{className:"text-bold",children:[(0,i.jsx)(o.AlertFillIcon,{className:"mr-1 fgColor-attention"})," ","http"===(c=a).type?`${c.code} ${c.identifier}`:`${(0,y.Z)(c.type)} error`]}),(0,i.jsx)(s.To,{markdown:a.message})]},l))}try{N.displayName||(N.displayName="ErrorMessage")}catch{}try{C.displayName||(C.displayName="AgentUnauthorizedError")}catch{}try{T.displayName||(T.displayName="AgentErrors")}catch{}}}]);
//# sourceMappingURL=packages_copilot-chat_hooks_use-chat-message-behavior_ts-packages_copilot-chat_hooks_use-grou-d552cd-5a6bab61fc0f.js.map